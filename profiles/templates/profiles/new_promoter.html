{% extends "base.html" %}
{% load static %}
{% block title %}MTA - Inicio{% endblock %}

{% block nav_title %}Inicio{% endblock %}
{% block nav_tabs %}
{% endblock nav_tabs %}

{% block content %}
<main>
  <br><br>
  <div class="container">
    <br><br>
    <div class="row">
      <div class="col s12 m12">
        <div class="card z-depth-3">
          <div class="card-content">
            <form action="/profiles/new_promoter/" method="post">
              {% csrf_token %}
              <div class="row">
                <h4 class="left">Información de la cuenta</h4>
                <div class="input-field col s12">
                  <input required id="{{form.username.id_for_label}}" name="{{form.username.html_name}}" type="text" class="validate">
                  <label for="{{form.username.id_for_label}}">Usuario</label>
                </div>
                <div class="input-field col s12 m6">
                  <input required id="{{form.password.id_for_label}}" name="{{form.password.html_name}}" type="password" class="validate">
                  <label for="{{form.password.id_for_label}}">Contraseña</label>
                </div>
                <div class="input-field col s12 m6">
                  <input required id="passwordConfirm" name="" type="password" class="validate">
                  <label for="passwordConfirm">Confirmar contraseña</label>
                </div>
              </div>
              <h4 class="left-align col s12">Información de la promotora</h4>
              <div class="row">
                <div class="input-field col s12 m4">
                  <input required id="{{form.name.id_for_label}}" name="{{form.name.html_name}}" type="text" class="validate slide2-input">
                  <label for="{{form.name.id_for_label}}">Nombre</label>
                </div>
                <div class="input-field col s12 m4">
                  <input required id="{{form.last_name_paternal.id_for_label}}" name="{{form.last_name_paternal.html_name}}" type="text" class="validate slide2-input">
                  <label for="{{form.last_name_paternal.id_for_label}}">Apellido Paterno</label>
                </div>
                <div class="input-field col s12 m4">
                  <input required id="{{form.last_name_maternal.id_for_label}}" name="{{form.last_name_maternal.html_name}}" type="text" class="validate slide2-input">
                  <label for="{{form.last_name_maternal.id_for_label}}">Apellido Materno</label>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s12 m4">
                  <input required id="{{form.phone_number.id_for_label}}" name="{{form.phone_number.html_name}}" type="text" class="validate slide2-input">
                  <label for="{{form.phone_number.id_for_label}}">Teléfono</label>
                </div>
                <div class="input-field col s12 m4">
                  <input required id="{{form.address.id_for_label}}" name="{{form.address.html_name}}" type="text" class="validate slide2-input">
                  <label for="{{form.address.id_for_label}}">Direccion</label>
                </div>
                <div class="input-field col s12 m4">
                  <input required id="{{form.email.id_for_label}}" name="{{form.email.html_name}}" type="text" class="validate slide2-input">
                  <label for="{{form.email.id_for_label}}">Correo</label>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s12">
                  <select id="{{form.communities.id_for_label}}" name="{{form.communities.html_name}}" multiple>
                    {% for choice in form.communities.field.queryset %}
                    <option value="{{choice.id}}">{{choice}}</option>
                    {% endfor %}
                  </select>
                  <label for="{{form.communities.id_for_label}}">Comunidades</label>
                </div>
              </div>
              <h4 class="left-align col s12">Información del recado</h4>
              <div class="row">
                <div class="input-field col s12 m6">
                  <input required id="{{form.contact_name.id_for_label}}" name="{{form.contact_name.html_name}}" type="text" class="validate">
                  <label for="{{form.contact_name.id_for_label}}">Nombre de recado</label>
                </div>
                <div class="input-field col s12 m6">
                  <input required id="{{form.contact_phone_number.id_for_label}}" name="{{form.contact_phone_number.html_name}}" type="text" class="validate">
                  <label for="{{form.contact_phone_number.id_for_label}}">Teléfono de recado</label>
                </div>
              </div>
              <button class="btn waves-effect waves-light right" type="submit"value="Submit" name="action">
                <i class="material-icons">send</i>
              </button>
              <br><br>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
{% endblock content %}
{% block init_scripts %}
{% endblock init_scripts %}
{% block js %}
<script type="text/javascript">
  // Initialize Floating Action Button
  $(document).ready(function(){
    //Inicializar componentes
  });

  //Validar contraseña
  var password = document.getElementById("password")
  , confirm_password = document.getElementById("passwordConfirm");

function validatePassword(){
  if(password.value != confirm_password.value) {
    confirm_password.setCustomValidity("Passwords Don't Match");
  } else {
    confirm_password.setCustomValidity('');
  }
}

password.onchange = validatePassword;
confirm_password.onkeyup = validatePassword;
</script>
{% endblock js %}
